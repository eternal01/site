---
title: "Golang"
date: 2022-10-16T08:38:32Z
---

## **Golang 数据类型**
- 值类型：string,int,float,bool,array,struct，初始化后内存分配在栈中
- 引用类型：map,slice,channel，初始化后内存分配在堆中
    
        rune 等价于 int32
        byte 等价于 uint8

## **Golang 中 make 和 new 的区别**
- 同为给变量分配内存
- make与new对堆栈分配处理是相同的，编译器优先进行逃逸分析，逃逸的才分配到堆上，否则分配于栈中
- new 可为所有类型分配内存，并将内存置为零，返回分配类型的指针
- make 仅为channel,slice,map分配内存，并进行初始化，返回类型

## **Golang 中 slice 和 array 的区别**
- 均为存储相同类型的一组数据
- 均可通过下标获取，len获取长度，cap获取容量
- 数组固定长度，访问和复制超过数组长度会越界，切片容量长度可变
- 数组是值类型，切片是引用类型，底层指向一个数组，修改切片实际修改的为底层数组，切片扩容后底层数组会改变，内存地址随之改变

## **for range 时地址会发生变化么**
    for k,v range slice 中，k,v在内存中只会存在一份，每次循环对k,v进行赋值操作，k,v内存地址始终不变，所以如果需要在循环中开启协程，应使用临时变量
    
## **defer 什么时候会修改返回值**
- defer执行顺序为LIFO，即先入后出。
- defer一般用来做收尾工作，释放资源，紧跟在打开资源后，防止出现内存泄露
- defer在操作函数返回有名返回值或者指针时会修改返回值

## **Golang 中解析 tag 是如何实现的**
    利用反射机制，反射是指计算机程序在运行时（Run time）可以访问、检测和修改它本身状态或行为的一种能力或动态知道给定数据对象的类型和结构，并有机会修改它。反射将接口变量转换成反射对象 Type 和 Value；反射可以通过反射对象 Value 还原成原先的接口变量；反射可以用来修改一个变量的值，前提是这个值可以被修改；注意：反射会一定程度上影响性能

## **Golang Channel实现**